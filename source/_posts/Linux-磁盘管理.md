---
title: Linux 磁盘管理
date: 2019-10-10 20:36:08
tags:
- 存储器
categories: Linux
---
# 磁盘分区程序
```
# fdisk [-l] 设备名称
-l ：输出对应设备的所有的分区，未指定设备则显示系统内能找到的所有分区

相关命令 m 查看
cylinder 可以通过 +sizeM 让系统自动分配

# partprobe     <==强制内核重新读取分区表（不重启更新分区表信息）
```
无法处理 2TB 以上的磁盘分区，使用 parted 命令
设备名称不应该加上数字如 /dev/hdc1 因为分区针对的是整个硬盘设备

# 磁盘格式化
```
# mkfs [-t 文件系统格式] 设备文件名
```

# 磁盘检验
```
# fsck [-t 文件系统] [-ACay] 设备名称
-t ：Linux 会通过 super block 分辨文件系统，可省略
```
检查文件系统是否出错，可能会造成部分损坏，故执行 fsck 时被检查分区需要在卸载状态

```
# badblocks [-svw] 设备名称
```
检查扇区是否有坏轨

# 磁盘挂载与卸载
被挂载的目录理论上应该是空目录，否则原有内容会隐藏到新分区卸载

> 放弃磁盘，这部分还是面向谷歌吧x